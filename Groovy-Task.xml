<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="d40b3559-d0f9-475d-9433-d2207a186223" activeEnvironment="Default" name="Groovy Task" resourceRoot="" soapui-version="5.7.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.actions.iface.tools.soapui.TestRunnerAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Report Format(s)" value=""/>
  <con:entry key="Host:Port" value=""/>
  <con:entry key="Export JUnit Results" value="false"/>
  <con:entry key="Export All" value="false"/>
  <con:entry key="Save After" value="false"/>
  <con:entry key="Add Settings" value="false"/>
  <con:entry key="WSS Password Type" value=""/>
  <con:entry key="TestSuite" value="TestSuite 1"/>
  <con:entry key="Endpoint" value=""/>
  <con:entry key="Select Report Type" value=""/>
  <con:entry key="System Properties" value=""/>
  <con:entry key="Password" value=""/>
  <con:entry key="Print Report" value="false"/>
  <con:entry key="Open Report" value="false"/>
  <con:entry key="Export JUnit Results with test properties" value="false"/>
  <con:entry key="Global Properties" value=""/>
  <con:entry key="Project Properties" value=""/>
  <con:entry key="Project Password" value=""/>
  <con:entry key="TestCase" value="&lt;all>"/>
  <con:entry key="Username" value=""/>
  <con:entry key="user-settings.xml Password" value=""/>
  <con:entry key="TestRunner Path" value=""/>
  <con:entry key="Environment" value="Default"/>
  <con:entry key="Coverage Report" value="false"/>
  <con:entry key="Enable UI" value="false"/>
  <con:entry key="Root Folder" value=""/>
  <con:entry key="Ignore Errors" value="false"/>
  <con:entry key="Domain" value=""/>
  <con:entry key="Tool Args" value=""/>
  <con:entry key="Save Project" value="false"/>
</xml-fragment>]]></con:setting></con:settings><con:interface xsi:type="con:RestService" id="89298be8-5f8c-4d1a-984c-0be492bfc3b2" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://demoqa.com" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>https://demoqa.com</con:endpoint></con:endpoints><con:resource name="Books" path="/BookStore/v1/Books" id="1864998a-67b4-4093-b708-4b2ca36ccaa9"><con:settings/><con:parameters/><con:method name="Books 1" id="35c467cc-c851-40cd-a38f-247b644ad2f1" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:book="https://demoqa.com/BookStore/v1/Books">book:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="e2f3b305-9b1a-4df9-a968-c62d4d720d54" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://demoqa.com</con:endpoint><con:request/><con:originalUri>https://demoqa.com/BookStore/v1/Books</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="dd3d2dfd-75ff-4e38-8de2-5182f18a76db" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://demoqa.com" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://demoqa.com</con:endpoint></con:endpoints><con:resource name="Book" path="/BookStore/v1/Book" id="26b5e502-1c6c-4bcb-ba29-84b066b03a39"><con:settings/><con:parameters><con:parameter><con:name>ISBN</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Book 1" id="40a66634-f9cc-450a-a47c-e4d012d093cb" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:book="https://demoqa.com/BookStore/v1/Book">book:Response</con:element></con:representation><con:request name="Request 1" id="3e4236b9-a7c7-4281-81a1-b0aa40ed522e" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://demoqa.com</con:endpoint><con:request/><con:originalUri>https://demoqa.com/BookStore/v1/Book</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="ISBN" value="9781449325862" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>ISBN</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:testSuite id="ded260dc-7e17-4138-834d-4350ae970d7e" name="TestSuite 1"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="96d639c6-2d6e-4892-9846-d4a63e56621b" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TestCase 1" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Books" id="f3e4ef29-4f21-464e-9385-425cd56871c3"><con:settings/><con:config service="https://demoqa.com" methodName="Books 1" resourcePath="/BookStore/v1/Books" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Books" id="01414da4-8a94-4574-bb88-bd7a3cec55d1" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://demoqa.com</con:endpoint><con:request/><con:originalUri>https://demoqa.com/BookStore/v1/Books</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Get &amp; Pass isbn" id="6209f31d-f36a-4326-83ba-5199232623ec"><con:settings/><con:config><script>import groovy.json.JsonSlurper

def slurper = new JsonSlurper()
def response = context.expand('${Books#Response}')
def result = slurper.parseText(response)

testRunner.testCase.getTestStepByName('Book').setPropertyValue('ISBN',result.books[0].isbn)</script></con:config></con:testStep><con:testStep type="groovy" name="Create Variables" id="0dd619e7-44ed-494f-8fd5-87d8d23a20e3"><con:settings/><con:config><script>com.eviware.soapui.SoapUI.globalProperties.addProperty("title")
testRunner.testCase.testSuite.project.addProperty("author")
testRunner.testCase.testSuite.addProperty("pages")
testRunner.testCase.addProperty("publisher")</script></con:config></con:testStep><con:testStep type="groovy" name="Set Values" id="5e15a0f7-48c9-4fb8-b5eb-acfd8377a576"><con:settings/><con:config><script>import groovy.json.JsonSlurper

def slurper = new JsonSlurper()
def response = context.expand('${Books#Response}')
def result = slurper.parseText(response)

def pages = result.books[0].pages.toString()

com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("title",result.books[0].title)
testRunner.testCase.testSuite.project.setPropertyValue("author",result.books[0].author)
testRunner.testCase.testSuite.setPropertyValue("pages",pages)
testRunner.testCase.setPropertyValue("publisher",result.books[0].publisher)

</script></con:config></con:testStep><con:testStep type="restrequest" name="Book" id="1f749b81-2f5b-4796-ad84-184ad9a90579"><con:settings/><con:config service="https://demoqa.com" methodName="Book 1" resourcePath="/BookStore/v1/Book" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Book" id="d6ce6f13-b8d2-4e74-a69f-20004c95d1d5" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://demoqa.com</con:endpoint><con:request/><con:originalUri>https://demoqa.com/BookStore/v1/Book</con:originalUri><con:assertion type="GroovyScriptAssertion" id="c773ed42-9657-4b73-9fa1-cbf80e3af135" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def slurper = new JsonSlurper()
def response = context.expand('${Book#Response}')
def result = slurper.parseText(response)

def pages = result.pages.toString()

def titleProperty = com.eviware.soapui.SoapUI.globalProperties.getPropertyValue("title")
def authorProperty = messageExchange.modelItem.testStep.testCase.testSuite.project.getPropertyValue("author")
def pagesProperty = messageExchange.modelItem.testStep.testCase.testSuite.getPropertyValue("pages")
def publisherProperty = messageExchange.modelItem.testStep.testCase.getPropertyValue("publisher")

assert titleProperty == result.title
assert authorProperty == result.author
assert pagesProperty == pages
assert publisherProperty == result.publisher</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="08e48f79-3291-423f-b9ea-add465c2faff" name="Script Assertion 1"><con:configuration><scriptText>assert messageExchange.responseStatusCode == 200
assert messageExchange.timeTaken &lt; 1000</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="34499a70-6e40-4750-ac3d-89e22a3438c6" name="Script Assertion FAIL"><con:configuration><scriptText>assert messageExchange.responseStatusCode == 535</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="ISBN" value="9781449325862" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>publisher</con:name><con:value>O'Reilly Media</con:value></con:property></con:properties></con:testCase><con:properties><con:property><con:name>pages</con:name><con:value>234</con:value></con:property></con:properties></con:testSuite><con:properties><con:property><con:name>author</con:name><con:value>Richard E. Silverman</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>